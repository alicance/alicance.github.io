<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>Linux运维基础之编辑器 | Alic Feng</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="初识Linux文本编辑器 ​    文本编辑器是计算机处理文本的一款应用软件，主要用于文件的查看与编辑。文本编辑器对于所有使用过计算机的人并不默认，可谓众所周知。无论在生活还是工作上，每个计算机用户离不开文本编辑器的依赖，编辑器的用处范围特别广，在计算机的领域范围无处不见，比如查看文档、修改配置文件、存储文本信息数据等。编辑器的典型功能有如下：">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux运维基础之编辑器">
<meta property="og:url" content="https://samego.com/2017/03/16/Linux/Linux运维基础之编辑器/index.html">
<meta property="og:site_name" content="Alic Feng">
<meta property="og:description" content="初识Linux文本编辑器 ​    文本编辑器是计算机处理文本的一款应用软件，主要用于文件的查看与编辑。文本编辑器对于所有使用过计算机的人并不默认，可谓众所周知。无论在生活还是工作上，每个计算机用户离不开文本编辑器的依赖，编辑器的用处范围特别广，在计算机的领域范围无处不见，比如查看文档、修改配置文件、存储文本信息数据等。编辑器的典型功能有如下：">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1678789-8608c80f3d0dc487.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1678789-6e57bdc74dce6fe6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1678789-6bd843adb64cdff6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1678789-3ff3dde1e8094178.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1678789-9027556c0e444efb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2017-04-15T07:56:22.242Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux运维基础之编辑器">
<meta name="twitter:description" content="初识Linux文本编辑器 ​    文本编辑器是计算机处理文本的一款应用软件，主要用于文件的查看与编辑。文本编辑器对于所有使用过计算机的人并不默认，可谓众所周知。无论在生活还是工作上，每个计算机用户离不开文本编辑器的依赖，编辑器的用处范围特别广，在计算机的领域范围无处不见，比如查看文档、修改配置文件、存储文本信息数据等。编辑器的典型功能有如下：">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/1678789-8608c80f3d0dc487.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
    

    

    
        <link rel="icon" href="/css/images/logo.png" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Alic Feng</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">首页</a>
                
                    <a class="main-nav-link" href="/categories">分类</a>
                
                    <a class="main-nav-link" href="/tags">标签</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar_kun.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">首页</a></td>
                
                    <td><a class="main-nav-link" href="/categories">分类</a></td>
                
                    <td><a class="main-nav-link" href="/tags">标签</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar_kun.png" />
            <h2 id="name">Alic Feng</h2>
            <h3 id="title">Web &amp; App Developer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>广州, 中国</span>
            <a id="follow" target="_blank" href="mailto:a@samego.com">联系我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                7
                <span>文章</span>
            </div>
            <div class="article-info-block">
                9
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/alicance" target="_blank" title="github" >
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/alic.feng" target="_blank" title="facebook" >
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.linkedin.com/in/%E7%AB%8B%E7%81%BF-%E5%86%AF-7b92a3101/" target="_blank" title="linkedin" >
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-Linux/Linux运维基础之编辑器" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Linux运维基础之编辑器
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/03/16/Linux/Linux运维基础之编辑器/">
            <time datetime="2017-03-16T14:13:41.000Z" itemprop="datePublished">2017-03-16</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Linux/">Linux</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/linux/">linux</a>, <a class="tag-link" href="/tags/内核/">内核</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p><strong>初识Linux文本编辑器 </strong><br>​    文本编辑器是计算机处理文本的一款应用软件，主要用于文件的查看与编辑。文本编辑器对于所有使用过计算机的人并不默认，可谓众所周知。无论在生活还是工作上，每个计算机用户离不开文本编辑器的依赖，编辑器的用处范围特别广，在计算机的领域范围无处不见，比如查看文档、修改配置文件、存储文本信息数据等。编辑器的典型功能有如下：</p>
<a id="more"></a>
<ul>
<li>记录数据信息</li>
<li>文字排版</li>
<li>剪切、复制、粘贴</li>
<li>撤销和恢复</li>
<li>查找和替换 </li>
</ul>
<p>​    众多的计算机系统都有编辑器，Windows下常见的有记事本，Mac下常见的有编辑器，Linux系统也不例外，Linux系统下有众多的文本编辑器，比较出众的有vim、emacs、nano、gedit、sed以及awk等。sed和awk更多地体验在终端，也就是以指令的方式来使用。</p>
<hr>
<h4 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h4><p><strong>vim简介</strong><br>​    vim全称IMproved，它是一个基于终端、功能强大、易扩展、跨平台的一款编辑工具。说起vim编辑器，那么我们首先得认识一下vi编辑器，vi编辑器得全称是visual editor的意思，是Unix和Linux操作系统中的默认自带编辑器，就好比我们的Windows操作系统自带的记事本一样，属于纯文本编辑器。从vim的全称可以看的出来，vim是继承vi开发的，完全兼容vi编辑器，在此同时，vim编辑器还多非常多的增强功能，vim是在Uinx/Linux系统下公认最好的一款终端编辑器，在程序员的眼中使用vim编辑器是一件非常愉快的事情。</p>
<p>​    vim有一个与众不同的特别之处，那就是无需鼠标的介入，而仅仅依赖键盘的情况下，依然可以非常高效地进行编辑文件，既可以脱离鼠标，还可以高效编辑文件，这样也是一个不错的好处，想想，Linux在大多数系统都是拿来搭建服务器的，这样的系统并没有可视化的界面，都是使用终端字符界面的，要是和Linux服务器打交道的话，选择vim那就最好不过了，甚至在有界面的Linux计算机上也是。为何vim有如此强大的功能呢，我们来谈谈vim有哪些功能或特点？</p>
<ul>
<li>几乎完全兼容vi</li>
<li>具有多缓冲功能</li>
<li>可以任意分区多个窗口编辑，包括横与竖</li>
<li>具备列表与字典功能的脚本语言</li>
<li>自动补全功能</li>
<li>可以多次撤销和重做</li>
<li>支持C/C++、PHP、Perl、Rubby、Python等多种语言的自动缩排</li>
<li>支持语法高亮</li>
<li>崩溃后文件可恢复</li>
<li>具备session功能，即光标位置和打开的缓冲状态的保存复原</li>
<li>可远程编辑文件</li>
<li>可分析两个文件对比差异</li>
<li>利用ctags的标签中跳转</li>
<li>无需依赖键盘即可轻松高效编辑文件编辑</li>
<li>vim具有非常丰富的扩展组件</li>
</ul>
<p><strong>vim安装</strong></p>
<pre><code>在Unix/Linux下安装Vim是及其简单的一件事，只需要几条命令即可，这种安装方法属于Linux包管理安装！
</code></pre><p>基于Debian的Linux发行版的系统安装方式如下，比如Ubuntu系统：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ apt-get update</div><div class="line">$ apt-get install vim</div><div class="line"># 安装过程省略...</div></pre></td></tr></table></figure>
<p>基于Red Hat的Linux发行版的系统安装方式如下，比如CentOS系统：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ yum update</div><div class="line">$ yum install vim</div><div class="line"># 安装过程省略...</div></pre></td></tr></table></figure></p>
<p>基于pacman包管理器的Linux发行版安装方式如下，比如Arch Linux系统：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ pacman -S pacman</div><div class="line">$ pacman -S vim</div><div class="line"># 安装过程省略...</div></pre></td></tr></table></figure></p>
<p>安装完毕之后我们可以在终端通过<code>vim -v</code>命令来查看vim的安装版本。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1678789-8608c80f3d0dc487.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="vim -v"></p>
<p>​    除了包管理的安装方法之外还可以下载已经打包好的二进制tar.gz文件直接解压使用，或者下载vim的源码在本地进行编译安装。</p>
<p><strong>vim配置</strong><br>​    既然已经安装完了vim，当然得研究其配置文件，在Ubuntu的系统下，vim的配置文件位于<code>/etc/vim/vimrc</code>路径下。在终端上执行<code>cat /etc/vim/vimrc</code>命令打印出vim配置文件的内容可以知道vim配置文件的规则：<br>1) 使用单双引号”标明注释<br>2) 使用set &lt;配置字段&gt; 开启某个功能<br>3) 自定义的用户配置文件可以通过source引入，很推荐！这样可以起到备份的作用</p>
<p>vim有哪配置参数呢？下面我们具体来说明vim原生的配置参数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">set nocompatible               &quot; 不要使用vi的键盘模式，而使用vim自带的</div><div class="line">set syntax=on                  &quot; 开启语法高亮</div><div class="line">set noeb or noerrorbells       &quot; 关闭错误信息响铃</div><div class="line">set confirm                    &quot; 在处理未保存或只读文件的时候，弹出确认</div><div class="line">set autoindent                 &quot; 自动缩进</div><div class="line">set cindent                    &quot; 开启C语言语法自动缩进</div><div class="line">set tabstop=4                  &quot; Tab键的宽度</div><div class="line">set softtabstop=4              &quot; 统一缩进为4</div><div class="line">set shiftwidth=4               &quot; 设定 &lt;&lt; 和 &gt;&gt; 命令移动时的宽度为 4</div><div class="line">set noexpandtab                &quot; 不要用空格代替制表符</div><div class="line">set smarttab                   &quot; 在行和段开始处使用制表符</div><div class="line">set number                     &quot; 显示行号</div><div class="line">set cursorline                 &quot; 突出显示当前行</div><div class="line">set autochdir                  &quot; 自动切换当前目录为当前文件所在的目录</div><div class="line">set ruler                      &quot; 打开状态栏标尺</div><div class="line">set history=1000               &quot; 历史记录数</div><div class="line">set nobackup                   &quot; 文件覆盖时不备份</div><div class="line">set backupcopy=yes             &quot; 设置备份时的行为为覆盖</div><div class="line">filetype plugin indent on      &quot; 开启插件</div><div class="line">set showmatch                  &quot; 插入括号时，短暂地跳转到匹配的对应括号</div><div class="line">set matchtime=2                &quot; 短暂跳转到匹配括号的时间</div><div class="line">set hidden                     &quot; 允许在有未保存的修改时切换缓冲区，此时的修改由 vim 负责保存</div><div class="line">set guioptions-=T              &quot; 隐藏工具栏</div><div class="line">set guioptions-=m              &quot; 隐藏菜单栏</div><div class="line">set smartindent                &quot; 开启新行时使用智能自动缩进</div><div class="line">set noswapfile                 &quot; 不使用swap文件</div><div class="line">set ignorecase                 &quot; 搜索忽略大小写</div><div class="line">set hlsearch                   &quot; 搜索时高亮显示被找到的文本</div><div class="line">set incsearch                  &quot; 输入搜索内容时就显示搜索结果</div><div class="line">set gdefault                   &quot; 行内替换</div><div class="line">set enc=utf-8                  &quot; 编码设置</div><div class="line">set fencs=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936</div><div class="line">set langmenu=zh_CN.UTF-8       &quot; 语言设置，中文UTF-8</div><div class="line">set helplang=cn                &quot; 执行help显示的语言</div><div class="line">set guifont=Luxi/ Mono/ 9      &quot; 设置字体，字体名称和字号&quot;</div></pre></td></tr></table></figure></p>
<p>​    对于更多的vim配置参数，请在vim手册上查看，用户自定义的配置推荐新建一个vim的配置文件<code>/home/$USER/.vim.config</code>，然后在<code>/etc/vim/vimrc</code>引入即可！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&quot; 通过source加载引入自定义并可用的vim配置</div><div class="line">if filereadable(&quot;/home/$USER/.vim.config&quot;)</div><div class="line">  source /home/$USER/.vim.config</div><div class="line">endif</div></pre></td></tr></table></figure></p>
<p><strong>vim使工作模式</strong><br>​    在学习vim的用法之前，我们先了解vim的工作模式，vim编辑器有多种工作模式，比较常用的工作模式有四种：正常模式command mode）、编辑模式（insert mode）、命令行模式（command-line mode）、可视模式 (Visual model)。</p>
<p>正常模式：该模式为进入vim后的最初状态的模式，在该模式下，可以进行光标的移动，复制粘贴等。该模式下键盘上所有的健都为功能健，即该健已经不代表该键字面的意思，而是代表了某种功能。譬如<code>dd</code>键代表的就是删除当前一行的数据信息。</p>
<p>编辑模式：该模式为编辑文本正常的模式，就和平常的编辑器一样，在该模式下，vim在终端的左下角会出现一个Insert，然而<code>dd</code>键就代表输入<code>dd</code>两个字母。</p>
<p>命令行模式：该模式和一般模式看起来很像，也是输入命令，但是这种模式下的命令是在左下角可见的，按<code>Esc</code>然后按住<code>Shift</code>+<code>:</code>即可进入该模式，并且该模式下的命令需要按下<code>enter</code>回车才会执行。</p>
<p>可视模式：可视模式中的操作有点像拿鼠标进行操作，选择文本的时候有一种鼠标选择的即视感，在此模式下vim左下角会显示<code>--  可视  块 --</code></p>
<p>这四种模式进入的操作如下表：</p>
<table>
<thead>
<tr>
<th style="text-align:center">模式</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">正常模式</td>
<td>按下<code>Esc</code>键即可进入正常模式</td>
</tr>
<tr>
<td style="text-align:center">编辑模式</td>
<td>在正常模式的前提下，按下<code>i 、I、a、A、o、O、r、R、s、S</code>其中一个按键即可进入编辑模式</td>
</tr>
<tr>
<td style="text-align:center">命令行模式</td>
<td>按<code>Esc</code>然后按住<code>Shift</code>+<code>:</code>即可进入命令行模式</td>
</tr>
<tr>
<td style="text-align:center">可视模式</td>
<td>按<code>Shift</code>+<code>v</code>/<code>V</code>即可进入可视模式</td>
</tr>
</tbody>
</table>
<p><strong>vim使用</strong><br>​    虽然说vim是一款跨平台、易扩展、效率高的编辑器，同时vim也是一款难上手的编辑器，毕竟vim的功能如此强大又那么简洁，如果你经常在Linux平台上开发与运维的，那么学习vim是非常有必要的。</p>
<p>​    对与vim的四种模式我们已经弄清楚了，键盘上的每一个键在不同的模式上都有不同的作用，那现在简单说明一些vim最常用的键以及它的作用，详细的说明可以在官方文档查阅，同时还可以在终端执行<code>vimtutor</code>即可看到vim的使用教程说明，但是对于初学者来说，更应该掌握如何去学习，大多数的命令都有help方法，vim也不例外，我们可以通过–help获取简要的使用信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">➜  ~ vim -help</div><div class="line">VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:44:48)</div><div class="line"></div><div class="line">用法: vim [参数] [文件 ..]       编辑指定的文件</div><div class="line">  或: vim [参数] -               从标准输入(stdin)读取文本</div><div class="line">  或: vim [参数] -t tag          编辑 tag 定义处的文件</div><div class="line">  或: vim [参数] -q [errorfile]  编辑第一个出错处的文件</div><div class="line"></div><div class="line">参数:</div><div class="line">   --			在这以后只有文件名</div><div class="line">   -v			Vi 模式 (同 &quot;vi&quot;)</div><div class="line">   -e			Ex 模式 (同 &quot;ex&quot;)</div><div class="line">   -E			Improved Ex mode</div><div class="line">   -s			安静(批处理)模式 (只能与 &quot;ex&quot; 一起使用)</div><div class="line">   -d			Diff 模式 (同 &quot;vimdiff&quot;)</div><div class="line">   -y			容易模式 (同 &quot;evim&quot;，无模式)</div><div class="line">   -R			只读模式 (同 &quot;view&quot;)</div><div class="line">   -Z			限制模式 (同 &quot;rvim&quot;)</div><div class="line"># 输入比较多，此处省略... ...</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>下面就分几类来说明键的作用。</p>
<p><strong>光标移动</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">键</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">j 或 ↓</td>
<td style="text-align:left">下移一行</td>
</tr>
<tr>
<td style="text-align:center">j 或 ↓</td>
<td style="text-align:left">下移一行</td>
</tr>
<tr>
<td style="text-align:center">k 或 ↑</td>
<td style="text-align:left">上移一行</td>
</tr>
<tr>
<td style="text-align:center">h 或 退格 或 ←</td>
<td style="text-align:left">左移一个字符</td>
</tr>
<tr>
<td style="text-align:center">l 或 空格 或 →</td>
<td style="text-align:left">右移一个字符</td>
</tr>
<tr>
<td style="text-align:center">0 或 Home</td>
<td style="text-align:left">移动到本行的最前面</td>
</tr>
<tr>
<td style="text-align:center">$ 或 End</td>
<td style="text-align:left">移动到本行的最后面</td>
</tr>
<tr>
<td style="text-align:center">Ctrl + b 或 Page Up</td>
<td style="text-align:left">向上翻页</td>
</tr>
<tr>
<td style="text-align:center">Ctrl + f 或 Page Down</td>
<td style="text-align:left">向下翻页</td>
</tr>
<tr>
<td style="text-align:center">Ctrl + u</td>
<td style="text-align:left">向上翻半页</td>
</tr>
<tr>
<td style="text-align:center">Ctrl + d</td>
<td style="text-align:left">向下翻半页</td>
</tr>
<tr>
<td style="text-align:center">Ctrl + e</td>
<td style="text-align:left">向下滚动一行</td>
</tr>
<tr>
<td style="text-align:center">Ctrl + y</td>
<td style="text-align:left">向上滚动一行</td>
</tr>
</tbody>
</table>
<p>查找替换*</p>
<table>
<thead>
<tr>
<th style="text-align:center">键</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/word</td>
<td style="text-align:left">向光标之后查找“word”</td>
</tr>
<tr>
<td style="text-align:center">?word</td>
<td style="text-align:left">向光标之前查找“word”</td>
</tr>
<tr>
<td style="text-align:center">n</td>
<td style="text-align:left">重复前一个查找的动作</td>
</tr>
<tr>
<td style="text-align:center">N</td>
<td style="text-align:left">反向重复前一个查找的动作</td>
</tr>
<tr>
<td style="text-align:center">:s/old/new</td>
<td style="text-align:left">用new替换当前行第一个old</td>
</tr>
<tr>
<td style="text-align:center">:s/old/new/g</td>
<td style="text-align:left">用new替换当前行所有的old</td>
</tr>
<tr>
<td style="text-align:center">:%s/old/new/g</td>
<td style="text-align:left">用new替换文件中所有的old</td>
</tr>
</tbody>
</table>
<p>删除(剪切)、复制、粘贴</p>
<table>
<thead>
<tr>
<th style="text-align:center">键</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:left">向后删除一个字符</td>
</tr>
<tr>
<td style="text-align:center">X</td>
<td style="text-align:left">向前删除一个字符</td>
</tr>
<tr>
<td style="text-align:center">dd（yy）</td>
<td style="text-align:left">删除（复制）光标所在的一整行</td>
</tr>
<tr>
<td style="text-align:center">d1G（y1G）</td>
<td style="text-align:left">删除（复制）光标以上所有行</td>
</tr>
<tr>
<td style="text-align:center">dG（yG）</td>
<td style="text-align:left">删除（复制）光标一下所有行</td>
</tr>
<tr>
<td style="text-align:center">d0（y0）</td>
<td style="text-align:left">删除（复制）光标到行首所有内容</td>
</tr>
<tr>
<td style="text-align:center">d$（y$）</td>
<td style="text-align:left">删除（复制）光标到行尾的所有内容</td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:left">粘贴在光标所在行的下一行</td>
</tr>
<tr>
<td style="text-align:center">P</td>
<td style="text-align:left">粘贴在光标所在行的上一行</td>
</tr>
<tr>
<td style="text-align:center">u</td>
<td style="text-align:left">撤销命令</td>
</tr>
</tbody>
</table>
<p>命令模式下的指令</p>
<table>
<thead>
<tr>
<th style="text-align:center">键</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">:e</td>
<td style="text-align:left">关闭当前文件并打开文件</td>
</tr>
<tr>
<td style="text-align:center">:e+</td>
<td style="text-align:left">关闭当前文件并打开文件，并从文件末尾开始编辑</td>
</tr>
<tr>
<td style="text-align:center">:ls</td>
<td style="text-align:left">列出所有打开的文件的列表</td>
</tr>
<tr>
<td style="text-align:center">:n</td>
<td style="text-align:left">切换到下一个被打开的文件</td>
</tr>
<tr>
<td style="text-align:center">:N</td>
<td style="text-align:left">切换到上一个被打开的文件</td>
</tr>
<tr>
<td style="text-align:center">:w</td>
<td style="text-align:left">保存，将文档保存在硬盘中</td>
</tr>
<tr>
<td style="text-align:center">:q</td>
<td style="text-align:left">退出vim</td>
</tr>
<tr>
<td style="text-align:center">:wq</td>
<td style="text-align:left">保存并退出vim</td>
</tr>
<tr>
<td style="text-align:center">:wq!</td>
<td style="text-align:left">强制保存并退出vim</td>
</tr>
<tr>
<td style="text-align:center">:n1,n2w</td>
<td style="text-align:left">将n1行到n2行的内容另存为在</td>
</tr>
<tr>
<td style="text-align:center">:saveas</td>
<td style="text-align:left">文件另存为</td>
</tr>
</tbody>
</table>
<p><img src="http://upload-images.jianshu.io/upload_images/1678789-6e57bdc74dce6fe6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="vim键盘图"></p>
<p><strong>终端小技巧 </strong></p>
<ul>
<li><p>help</p>
<p>​    在Linux系统中，学会如何去掌握命令的用法以及作用是尤其重要的，大多数的Linux命令都会有一个–help参数，即一个命令的使用帮助手册。类似的还有man、info。</p>
</li>
<li><p>Tab</p>
<p>​    Tab即自动补全，在Terminal敲命令的时候配合Tab键会使你的工作效率大大提高，比如，当你敲的命令太长或者你只记得命令的前面部分，只要按下Tab键，命令即可补全，还有一种情况，当你按下Tab键没有反应，那么就是说，你敲的命令与其他命令的前面部分相同，此时可以在此按下Tab键，即可显示所有与已敲部分命令开头的命令。</p>
</li>
<li><p>history</p>
<p>​    在Linux终端执行命令的工作中，每次执行的命令都会被记录下来的，但是我们想想，既然已经记载我们所执行过的命令，我们再次执行相同的命令也就不需要再次输入重复的命令了，是的。我们可以配合  ↑、↓ 键使用，↑ 代表查找上一条命令，↓代表查找下一条命令，但是如果你想查看最近所执行的所有命令，可以使用<code>history</code>命令。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">➜  ~ history</div><div class="line">    1  ls</div><div class="line">    2  vim --help</div><div class="line">    3  chmod a+x email.sh </div><div class="line">    4  history</div></pre></td></tr></table></figure>
<ul>
<li>find<br>​    find顾名思义就是用于查找文件的，当我们想使用vim编辑一个配置文件，但是问题我们不知道此文件的路径位置，那我我们就可以使用find命令来查找该文件在哪。类似的命令还有which。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 比如我们在当前的用户目录下查找一个文件名为email.sh的文件</div><div class="line">➜  ~ find /home/$USER/ -name email.sh</div><div class="line">/home/alic/email.sh</div><div class="line">/home/alic/Alic/email.sh</div></pre></td></tr></table></figure>
<ul>
<li><p>clear</p>
<p>​    在终端执行的命令，都会有大量的信息在屏幕显示出来，在很多时候都是好事，但是有时候执行完了命令后，看到大量的信息会觉得特别乱，此时我们可以使用clear清屏功能，在所在的终端输入clear或者<code>Ctrl+l</code>即可清空屏幕，还有类似的一个命令reset，与clear的区别就是，reset相当于从新开启了一个终端窗口。</p>
</li>
</ul>
<hr>
<p><strong>Emacs简介</strong></p>
<p>​    Emacs是一种功能超强的文本处理程序工具，与上述的vim类似，Emacs也是一款文本编辑器，在Windows、Mac、Linux等平台使用，以一款跨平台编辑器。在Unix/Linux界可以与vim媲美，对于哪一个比较好，人各有所好，都是Unix/Linux界的两大神奇。Emacs主要是基于C以及Emacs Lisp两种编程语言来写的。Emacs有一个很大的特点就是扩展性非常强，这种特性就是有Emacs Lisp语言来编写的。即使Emacs的功能在强大，它始终还是一个文本编辑器，与其它编程IDE还是有很大的不同的。由于Emacs的社区非常活跃，很多贡献与Emacs，因而Emacs还是可以工作很多事的，比如收发电子邮件、通过FTP/TRAMP编辑远程档案、通过Telnet登录主机、上新闻组、登陆IRC和朋友交流、查看日历、撰写文章大纲、对多种编程语言的编辑、调试程序、玩游戏、计算器、记日记、管理日程、个人信息管理、目录管理、文件比较、阅读info和man文档、浏览网站等诸的功能。<br>GUN Emacs编辑器有七大特性：<br>(1) 完全支持语法高亮<br>(2) 内置完整的使用教程<br>(3) 几乎支持所有的编码<br>(4) 高度可定制、扩展性高<br>(5) 超文本编辑器，可以作为调试接口等其它工具<br>(6) 用于下载和安装扩展的打包系统<br>(7) 窗口可分割，包括横、竖</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1678789-6bd843adb64cdff6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Emacs界面"></p>
<p><strong>Emacs安装</strong><br>​    在Emacs官网中，官方推荐我们使用包管理的方式进行安装，很多Linux的发行版中的包管理源已经存在了Emacs，除非我们希望使用最新版本的Emacs编辑器，可以在官方网站下载源码在本地变异安装。<br>基于Debian的Linux发行版的系统安装方式如下，比如Ubuntu系统：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ apt-get update</div><div class="line">$ apt-get install emacs</div><div class="line"># 安装过程省略...</div></pre></td></tr></table></figure></p>
<p>基于Red Hat的Linux发行版的系统安装方式如下，比如CentOS系统：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ yum update</div><div class="line">$ yum install emacs</div><div class="line"># 安装过程省略...</div></pre></td></tr></table></figure></p>
<p>基于pacman包管理器的Linux发行版安装方式如下，比如Arch Linux系统：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 对于64位安装</div><div class="line">pacman -S mingw-w64-x86_64-emacs</div><div class="line"># 对于32位安装</div><div class="line">pacman -S mingw-w64-i686-emacs</div><div class="line"># 安装过程省略...</div></pre></td></tr></table></figure></p>
<p>安装完毕之后我们可以在终端通过<code>emacs -version</code>命令来查看vim的安装版本。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">➜  ~ emacs -version</div><div class="line">GNU Emacs 24.3.1</div><div class="line">Copyright (C) 2013 Free Software Foundation, Inc.</div><div class="line">GNU Emacs comes with ABSOLUTELY NO WARRANTY.</div><div class="line">You may redistribute copies of Emacs</div><div class="line">under the terms of the GNU General Public License.</div></pre></td></tr></table></figure></p>
<p><strong>emacs配置</strong><br>​    Emacs的配置与其它的配置文件很不同，与vim的配置类似，但是Emacs配置文件的语法格式更能体现出编程，并且Emacs的配置语法就是使用其Lisp的语法来约束规则的。也许你可能会奇怪，一般普通的程序软件配置，基本都是通过菜单栏打开一个settings选项来配置的，然后修改里面提供的选项，这是界面化的修改，偏向Windows系统的设置，然而在emacs里配置呢更能侧向Uinx/Linux系统。既然配置都是使用Lisp语法来配置的，那我们就接触一下简单的Lisp语法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> ;; 这是行注释</div><div class="line"> set &apos;a 5  ;;变量赋值</div><div class="line">(add-to-list &apos;load-path (expand-file-name &quot;~/.emacs.d&quot;)) ;; 如下引入一个文件目录</div><div class="line">(require &apos;init-utils) ;; 加载init-utils自定义的函数和宏</div></pre></td></tr></table></figure></p>
<p>​    Emacs的配置方法细分可以分类两种，与vim类似。<br>​    其一，单个文件作为Emacs 的配置文件，具体来说呢，就是将所有初始化函数都放在一个文件配置文件里即~/.emacs，虽然这样配置起来简单，但是你长时间使用Emacs编辑器的话，要配置的选项也随之越来越多的，这样一来，Emacs的配置文件就会越来越大，非常膨胀显得配置及其杂乱，这算是体现了面向过程的做法，这种配置的方法不推荐。<br>​    其二，一个文件夹作为Emacs的配置目录，详细来说呢，就是将配置的选项归纳分类在不同的文件里面，放在同一个目录下即~/.emacs.d，在该目录下的所有配置文件的扩展名都是  <code>.el</code>，这是Emacs编辑器加载配置文件的规则，Emacs在启动的时候会自动执行该目录下名为init.el的配置文件，但是init.el配置文件又依赖其他的文件，自然而然也就会加载其他的配置文件，这样就会显得更加清晰、简洁。这种做法更能体现出面向对象的特征，这是我推荐的配置方法。<br>​    这两种方法的配置参数加载是有顺序的，emacs启动时先加载~/.emacs配置文件，倘若~/.emacs配置文件不在的话，enacs会去~/.emacs.d目录下加载init.el配置文件。<br>为了方便展示，下面以一个文件的形式来说明emacs的基本常用配置项：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line">;; =================================</div><div class="line">;; 外观配置项</div><div class="line">;; =================================</div><div class="line">;; 设置字体为Monospace  </div><div class="line">(set-default-font &quot;Monospace&quot;) </div><div class="line">;; 设置语法高亮显示的背景和前景，区域选择的背景和主题，二次选择的背景和选择 </div><div class="line">(set-background-color &quot;black&quot;)  </div><div class="line">(set-foreground-color &quot;white&quot;)</div><div class="line">(set-face-foreground &apos;region &quot;green&quot;)</div><div class="line">(set-face-background &apos;region &quot;blue&quot;)</div><div class="line">(set-face-foreground &apos;secondary-selection &quot;skyblue&quot;)</div><div class="line">(set-face-background &apos;secondary-selection &quot;darkblue&quot;)</div><div class="line">;; 去掉侧边滚动条  </div><div class="line">(set-scroll-bar-mode nil)  </div><div class="line">;; 关闭开启画面  </div><div class="line">(setq inhibit-startup-message t)  </div><div class="line">;; 禁用工具栏  </div><div class="line">(tool-bar-mode nil)  </div><div class="line">;; 禁用菜单栏  </div><div class="line">(menu-bar-mode nil)  </div><div class="line">;; 移除警告</div><div class="line">(mouse-wheel-mode t)  </div><div class="line">;; 自动加载行号  </div><div class="line">(global-linum-mode &apos;linum-mode)  </div><div class="line">;; 高亮当前行  </div><div class="line">(require &apos;hl-line-settings)  </div><div class="line">;; 将光标由方块变成一个小长条  </div><div class="line">(require &apos;bar-cursor)</div><div class="line">;; 实现全屏效果，快捷键为f11</div><div class="line">(global-set-key [f11] &apos;fullscreen) </div><div class="line">(defun fullscreen ()</div><div class="line">(interactive)</div><div class="line">(x-send-client-message</div><div class="line">nil 0 nil &quot;_NET_WM_STATE&quot; 32</div><div class="line">&apos;(2 &quot;_NET_WM_STATE_FULLSCREEN&quot; 0))</div><div class="line">)</div><div class="line"></div><div class="line">;; =================================</div><div class="line">;; 状态栏配置项</div><div class="line">;; =================================</div><div class="line">;;显示时间  </div><div class="line">(display-time)  </div><div class="line">;; 启用时间显示设置</div><div class="line">(display-time-mode 1)</div><div class="line">(setq display-time-24hr-format t)  ;; 使用24小时制  </div><div class="line">(setq display-time-day-and-date t) ;; 显示包括日期和具体时间  </div><div class="line">;;(setq display-time-use-mail-icon t) ;;时间栏旁边启用邮件设置  </div><div class="line">;;(setq display-time-interval 10) ;;时间的变化频率</div><div class="line">;;显示列号  </div><div class="line">(setq column-number-mode t)  </div><div class="line">;;显示标题栏 %f 缓冲区完整路径 %p 页面百分数 %l 行号  </div><div class="line">(setq frame-title-format &quot;%f&quot;)  </div><div class="line"></div><div class="line">;; =================================</div><div class="line">;; 编辑器配置项</div><div class="line">;; =================================</div><div class="line">;; 启用部分补全功能 </div><div class="line">(partial-completion-mode 1)  </div><div class="line">;; 在minibuffer里启用自动补全函数和变量 </div><div class="line">(icomplete-mode 1)   </div><div class="line">;; 不创建备份文件  </div><div class="line">(setq make-backup-files nil)  </div><div class="line">;; 不创建临时文件  </div><div class="line">(setq-default make-backup-files nil)  </div><div class="line">;; 渲染当前屏幕语法高亮，加快显示速度  </div><div class="line">(setq lazy-lock-defer-on-scrolling t)  </div><div class="line">;; 将错误信息显示在回显区  </div><div class="line">(condition-case err  </div><div class="line">    (progn  </div><div class="line">      (require &apos;xxx))  </div><div class="line">  (error  </div><div class="line">   (message &quot;Can&apos;t load xxx-mode %s&quot; (cdr err))))  </div><div class="line">;; 使用X剪贴板  </div><div class="line">(setq x-select-enable-clipboard t)  </div><div class="line">;;设定剪贴板的内容格式</div><div class="line">(set-clipboard-coding-system &apos;ctext)  </div><div class="line">;; 设置Tab宽度为4  </div><div class="line">(setq default-tab-width 4)   </div><div class="line">;; 设置缩进  </div><div class="line">(setq indent-tabs-mode t)  </div><div class="line">(setq c-indent-level 4)  </div><div class="line">(setq c-continued-statement-offset 4)  </div><div class="line">(setq c-brace-offset -4)  </div><div class="line">(setq c-argdecl-indent 4)  </div><div class="line">(setq c-label-offset -4)  </div><div class="line">(setq c-basic-offset 4)  </div><div class="line">;; 设定行距  </div><div class="line">(setq default-line-spaceing 4)  </div><div class="line">;; 设定页宽  </div><div class="line">(setq default-fill-column 60)  </div><div class="line">;; 缺省模式 text-mode  </div><div class="line">(setq default-major-mode text-mode)  </div><div class="line">;; 设置删除记录最大值</div><div class="line">(setq kill-ring-max 200)  </div><div class="line">;; 以空行结束  </div><div class="line">(setq require-final-newline t)  </div><div class="line">;; 鼠标指针避光标  </div><div class="line">(set mouse-avoidance-mode animate)  </div><div class="line">;; 粘贴于光标处,而不是鼠标指针处  </div><div class="line">(setq mouse-yank-at-point t)</div></pre></td></tr></table></figure></p>
<p>以上并非Emacs编辑器的完整所有的配置项，更多的配置项请查看官方网站或emacs插件的使用说明。</p>
<p><strong>Emacs使用 </strong><br>​    emacs与vim类似，只要多操作使用就自然会记住每个键或键键之间的作用，以下是emacs常用的操作快捷键。在Emacs编辑器中，一些默认快捷键<code>C-</code>代表按住<code>Ctrl键</code>，<code>M-</code>代表按住<code>Alt键</code>。对于简单的入门，熟悉使用如下的键键配合使用即可，但是想一时掌握Emacs的话，这是不可能的，需要长期的使用才会掌握Emacs的熟练使用。</p>
<p>光标移动</p>
<table>
<thead>
<tr>
<th style="text-align:center">键</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">C-n/p/b/f</td>
<td style="text-align:left">到 下一行 / 上一行 / 前一字符 / 后一字符</td>
</tr>
<tr>
<td style="text-align:center">M-b/f</td>
<td style="text-align:left">到 前 / 后一单词</td>
</tr>
<tr>
<td style="text-align:center">C-a/e</td>
<td style="text-align:left">到 行首 / 末</td>
</tr>
<tr>
<td style="text-align:center">M-a/e</td>
<td style="text-align:left">到 句首 / 末</td>
</tr>
<tr>
<td style="text-align:center">C-v/M-v</td>
<td style="text-align:left">下 / 上翻屏</td>
</tr>
<tr>
<td style="text-align:center">C-l</td>
<td style="text-align:left">循环 将当前光标行显示在窗口下、中、上位置</td>
</tr>
<tr>
<td style="text-align:center">C-u</td>
<td style="text-align:left">重复执行之后的 xx 命令 num 次，不输入num默认为4</td>
</tr>
<tr>
<td style="text-align:center">C-u C-v        向下滚动4行</td>
</tr>
</tbody>
</table>
<p>编辑<br>|     键      | 说明         |<br>| :——–: | :——— |<br>|  Back/C-d  | 删除 前 / 后字符 |<br>| M-Back/M-d | 移除 前 / 后单词 |<br>|  C-k/M-k   | 移除到 行末、句末  |<br>|   C-x u    | 撤销/重做      |<br>|    C-w     | 剪切         |<br>|    C-y     | 粘贴         |<br>|    C-c     | 复制         |</p>
<p>查找<br>|  键   | 说明          |<br>| :–: | :———- |<br>| C-s  | 查找下一个       |<br>| C-r  | 查找上一下       |<br>| C-g  | 一次返回，二次结束查找 |</p>
<p>标记</p>
<table>
<thead>
<tr>
<th style="text-align:center">键</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">C-@</td>
<td style="text-align:left">设置标记</td>
</tr>
<tr>
<td style="text-align:center">C-x C-x</td>
<td style="text-align:left">在当前光标位置和标记处跳转</td>
</tr>
<tr>
<td style="text-align:center">M-@</td>
<td style="text-align:left">设置单词标记</td>
</tr>
<tr>
<td style="text-align:center">M-h</td>
<td style="text-align:left">标记段</td>
</tr>
<tr>
<td style="text-align:center">C-x C-p</td>
<td style="text-align:left">标记页</td>
</tr>
<tr>
<td style="text-align:center">C-M-@</td>
<td style="text-align:left">标记表达式</td>
</tr>
<tr>
<td style="text-align:center">C-M-h</td>
<td style="text-align:left">标记函数</td>
</tr>
<tr>
<td style="text-align:center">C-x h</td>
<td style="text-align:left">标记整个缓冲区</td>
</tr>
</tbody>
</table>
<p>查询替换<br>|  键   | 说明              |<br>| :–: | :————– |<br>| M-%  | 交互替换            |<br>| SPC  | 替换当前项并跳转到下一项    |<br>|  ,   | 替换当前项不跳转        |<br>| DEL  | 不替换当前项并跳转到下一项   |<br>|  !   | 替换全部剩下的查询结果     |<br>|  ^   | 回到上一个匹配结果       |<br>| RET  | 退出查询替换          |<br>| C-r  | 进入递归编辑(C-M-c退出) |</p>
<p>文件操作<br>|    键    | 说明                            |<br>| :—–: | :—————————- |<br>| C-x C-c | 退出                            |<br>| C-x C-f | 打开文件                          |<br>| C-x C-s | 保存文件                          |<br>| C-x C-v | 在当前缓冲区重新打开一个文件                |<br>|  C-x 1  | 最大化当前缓冲，关闭其它                  |<br>| C-x 2/3 | 垂直、水平创建新缓冲区                   |<br>|  C-x o  | 切换到其它缓冲区                      |<br>| C-x C-b | 列出缓冲区                         |<br>|  C-x b  | 提示输入缓冲区名称，切换当前窗口的缓冲区          |<br>|  C-x k  | 删除当前缓冲区                       |<br>|   C-j   | 换行回车，有些模式下比较直接回车好用，有增加缩进之类的功能 |</p>
<h4 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h4><p><strong>sed简介 </strong><br>​    sed(Stream EDitor)是一个通用的编辑器，它是Uinx/Linux内核bash内置的一个指令。目前由自由软件基金组织开发和维护并且随着GNU/Linux进行分发，通常它也称作 GNU SED。<br>Linux系统中虽然可以使用强大的编辑器如 vim 和 emacs 来编辑处理文本文件。但有往往有些时候，我们需要有一种命令自动的处理文本文件内容，并非使用这些强大的交互式文本编辑器，这时，sed命令式文本处理工具就排上用场了，它们能够轻松的实现自动格式化、插入、修改或者删除等操作处理文本信息。</p>
<p><strong>sed工作原理</strong><br>​    sex一次只能处理一行内容，处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，sed只是对缓冲区中原始文件的副本进行编辑，并不是编辑原始的文件。除非你使用重定向存储输出或者使用使用sed编辑命令中的w选项。<br>Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1678789-3ff3dde1e8094178.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="sed工作原理"></p>
<p><strong>sed使用</strong><br>选项与参数说明：</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-n</td>
<td style="text-align:left">使用安静(silent)模式</td>
</tr>
<tr>
<td style="text-align:center">-e</td>
<td style="text-align:left">直接在命令列模式上进行 sed 的动作编辑</td>
</tr>
<tr>
<td style="text-align:center">-f</td>
<td style="text-align:left">直接将 sed 的动作写在一个文件内</td>
</tr>
<tr>
<td style="text-align:center">-r</td>
<td style="text-align:left">sed 的动作支持的是延伸型正规表示法的语法</td>
</tr>
<tr>
<td style="text-align:center">-i</td>
<td style="text-align:left">直接修改读取的文件内容，而不是输出到终端</td>
</tr>
</tbody>
</table>
<p>动作说明：</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:left">新增， a 的后面可以接字串，而这些字串会在新的一行出现(当前行的下一行)</td>
</tr>
<tr>
<td style="text-align:center">c</td>
<td style="text-align:left">取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行</td>
</tr>
<tr>
<td style="text-align:center">d</td>
<td style="text-align:left">删除， d 后面通常不接任何参数</td>
</tr>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:left">插入， i 的后面可以接字串，而这些字串会在新的一行出现(当前行的上一行)</td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:left">打印，通常 p 会与参数 sed -n 一起使用</td>
</tr>
<tr>
<td style="text-align:center">s</td>
<td style="text-align:left">替换，通常与 s 配合，即搭配正规表示法</td>
</tr>
</tbody>
</table>
<p>​    对于Linux运维者来说，学会命令行工具处理事务比可视化交互式处理事务尤其重要，一旦掌握了sed等命令的语法，你就可以轻松、智能地处理复杂的问题，并且是全自动处理，甚至有时只是几行代码就可以解决的，这样处理就可以大量减少处理事务的时间，提高处理效率！下面就实践一些在Linux运维中经常使用sed相关的命令:</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>先建立一个sedfile文件，里面的内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">我是老一</div><div class="line">你是老二</div><div class="line">他是老三</div><div class="line">四哥，老大呢</div></pre></td></tr></table></figure></p>
<ul>
<li>在指定行添加行，比如在第三行添加一行数据<code>three</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"># 在第三行前添加，即第三行</div><div class="line">➜  ~ sed &apos;3i three&apos; sedfile </div><div class="line">我是老一</div><div class="line">你是老二</div><div class="line">three</div><div class="line">他是老三</div><div class="line">四哥，老大呢</div><div class="line"></div><div class="line"># 在第二行后添加，即第三行</div><div class="line">➜  ~ sed &apos;2a three&apos; sedfile</div><div class="line">我是老一</div><div class="line">你是老二</div><div class="line">three</div><div class="line">他是老三</div><div class="line">四哥，老大呢</div></pre></td></tr></table></figure>
<ul>
<li>删除指定行内容，可以是一个范围的多行，从1开始数起，$表示最后一行</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">#删除第一行，没有-e参数也是可以的</div><div class="line">➜  ~ sed -e &apos;1d&apos; sedfile</div><div class="line">你是老二</div><div class="line">他是老三</div><div class="line">四哥，老大呢</div><div class="line"></div><div class="line">#删除第二到第三行</div><div class="line">➜  ~ sed -e &apos;2,3d&apos; sedfile</div><div class="line">我是老一</div><div class="line">四哥，老大呢</div><div class="line"></div><div class="line"># 删除第二到最后一行</div><div class="line">➜  ~ sed -e &apos;2,$d&apos; sedfile</div><div class="line">我是老一</div></pre></td></tr></table></figure>
<ul>
<li>以行为单位替换内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"># 替换第一行的内容</div><div class="line">➜  ~ sed &apos;1c 老大不见了&apos; sedfile</div><div class="line">老大不见了</div><div class="line">你是老二</div><div class="line">他是老三</div><div class="line">四哥，老大呢</div><div class="line"></div><div class="line">#替换第一第二行的内容</div><div class="line">➜  ~ sed &apos;1,2c 老大老二都不见了&apos; sedfile</div><div class="line">老大老二都不见了</div><div class="line">他是老三</div><div class="line">四哥，老大呢</div></pre></td></tr></table></figure>
<ul>
<li>以行为单位的显示</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># 显示第二到第三行内容</div><div class="line">➜  ~ sed -n &apos;2,3p&apos; sedfile </div><div class="line">你是老二</div><div class="line">他是老三</div><div class="line"></div><div class="line"># 搜索有是的行的所有行内容</div><div class="line">➜  ~ sed -n &apos;/是/p&apos; sedfile</div><div class="line">我是老一</div><div class="line">你是老二</div><div class="line">他是老三</div></pre></td></tr></table></figure>
<ul>
<li>搜索并删除行内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 搜索`四哥`，并将其删除</div><div class="line">➜  ~ sed &apos;/四哥/d&apos; sedfile</div><div class="line">我是老一</div><div class="line">你是老二</div><div class="line">他是老三</div></pre></td></tr></table></figure>
<ul>
<li>搜索并替换内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># 将`四哥`换成`alic``</div><div class="line">➜  ~ sed &apos;s/四哥/alic/g&apos; sedfile</div><div class="line">我是老一</div><div class="line">你是老二</div><div class="line">他是老三</div><div class="line">alic，老大呢</div></pre></td></tr></table></figure>
<ul>
<li>多点处理，即灵活多步处理</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 删除第二行，并将 `四哥`换成`alic`</div><div class="line">➜  ~ sed -e  &apos;2d&apos; -e &apos;s/四哥/alic/g&apos; sedfile </div><div class="line">我是老一</div><div class="line">他是老三</div><div class="line">alic，老大呢</div></pre></td></tr></table></figure>
<ul>
<li>对文件修改后进行保存，只要加上-i参数即可，这是危险的最法，可以不使用-i而将sed执行的结果重定向也可以，这样的做法还可以保留原文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># 将`四哥`换成`alic`后并保存</div><div class="line">➜  ~ sed -i &apos;s/四哥/alic/g&apos; sedfile         </div><div class="line"># 查看上一次执行成功后，sedfile文件的内容</div><div class="line">➜  ~ cat sedfile </div><div class="line">我是老一</div><div class="line">你是老二</div><div class="line">他是老三</div><div class="line">alic，老大呢</div></pre></td></tr></table></figure>
<hr>
<p><strong>awk</strong></p>
<p><strong>awk简介</strong></p>
<p>​    awk是一门专注于文本扫描处理的编程语言。awk的名字分别来源于三个人名字的姓氏首字母拼合而成，很显然，awk由三个创始者共同开发的，他们分别就是：Alfred Aho 、Peter Weinberger 以及 Brian Kernighan 。awk专用于Unix/Linux内核系下，对文本数据领域的处理是非常强大的，尽管sed、grep和awk在Linux下简称文本三剑客，但是awk却具备grep的查找以及sed的编辑等功能。到目前为止，awk有很多的版本，比如awk、nawk、gawk、nawk、gawk、tawk等等，几乎所有的x-awk都是awk的增强版本，比原生的awk增加许多内置函数，最常见且最长使用的就有三个，分别是awk、nawk以及gawk。与其说awk是Unix/Linux指令在命令行中使用，更不是如说awk是一门独立的脚本编程语言，因为awk有很多内置的功能，比如说：变量、数组、函数等，同时，用户也可以根据自己的需求自定义函数，这是它与很多编程语言的相同之处，不仅如此，awk还有一个好的特性：灵活性，它极其灵活地随心所欲去处理文本数据。</p>
<p><strong>awk工作流程</strong></p>
<p>​    要想掌握awk的使用，或者想成为awk方面的专员，你必须得了解awk内部的工作原理以及工作流程，在这一章节，来具体讲讲awk是如何执行工作的，其实awk的工作流程是很简单的。</p>
<p>​    awk有两个特殊的模式，也成为块，分别是BEGIN BLOCK和END BLOCK，awk在读取任何数据流之前先之前执行BEGIN BLOCK，在读完所有的数据流之后执行END BLOCK，执行END BLOCK也标记这awk任务处理完毕。</p>
<p>1) awk将读取一行作为输入流，并将这一行赋给内部变量$0存入内存，默认是将每一行称为一个记录，以换行符结束，用户可自定义设置一个行的标记。</p>
<p>2) 行数据流以空格被分解成字段，用户也可以自定义规则来分解字段，每一个字段存储在已编号的变量中，从$1开始，一直到N。</p>
<p>3) awk将获取的字段按照用户编写的规则自行按顺序处理，处理完毕之后print打印出来作为输出。</p>
<p>4) awk处理并输出后，将指针指向下一行，如果还有行数据，将从文件中获取另一行，并将其存储到$0中，覆盖原来的内容，重复执行步骤1)与步骤2)，否则的话，awk将执行内置的end block，也就是完成了awk指令任务。</p>
<p>下面的流程图为awk工作时的流程图：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1678789-9027556c0e444efb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="awk工作流程"></p>
<p><strong>awk语法格式</strong></p>
<p>​    awk的基本语法格式有两种形式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">命令行形式</div><div class="line">awk [option] &apos;script&apos; var=value file(s)</div></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">awk处理命令文件引入形式</div><div class="line">awk [option] -f scriptfile var=value file(s)</div></pre></td></tr></table></figure>
<p>​    选项参数说明</p>
<ul>
<li><p>-F fs or –field-separator fs<br>指定fs输入文件折分隔符，fs是一个字符串或者是一个正则表达式，fs默认是空格或者制表符号。</p>
</li>
<li><p>-v var=value or –asign var=value<br>在执行awk脚本之前定一个变量var，var的值为value。</p>
</li>
<li><p>-f scripfile or –file scriptfile<br>从脚本文件中加载读取awk命令，也就是说awk处理命令可以封装在脚本文件在awk命令行加载处理。</p>
</li>
<li><p>-mf nnn and -mr nnn<br>对nnn值设置内在限制，-mf选项限制分配给nnn的最大块数目；-mr选项限制记录的最大数目。注意：这两个参数选项为awk的扩展功能，不适合在标准的awk使用。</p>
</li>
<li><p>-W compact or –compat 、-W traditional or –traditional<br>在兼容模式下运行awk，此时gawk的行为与标准的awk是一样的。</p>
</li>
<li><p>-W copyleft or –copyleft 、-W copyright or –copyright<br>打印输出简短的版权信息内容。</p>
</li>
<li><p>-W help or –help, -W usage or –usage<br>打印全部awk帮助选项和每个使用选项的说明。</p>
</li>
<li><p>-W lint or –lint 、-W lint-old or –lint-old<br>输出不能兼容传统unix/Linux平台移植的结构警告提示。</p>
</li>
<li><p>-W posix<br>awk命令开启兼容模式。</p>
</li>
<li><p>-W dump-variables[=file] or –dump-variables[=file]</p>
<p>将所有的全局变量全部输出到文件中，文件为空时将输出到文件名为dump-variables的文件中。</p>
</li>
<li><p>-W re-interval or –re-inerval<br>允许间隔正则表达式的使用。</p>
</li>
<li><p>-W source script-text or –source script-text<br>使用script-text作为源代码，可与-f命令混用。</p>
</li>
<li><p>-W version or –version<br>打印版本信息。</p>
</li>
</ul>
<p><strong>awk内置变量</strong></p>
<p>​    在使用awk之前，awk已经预先内置了许多的内置变量，有了这些awk内置的变量使得处理数据变得更加灵活，这些内置的变量如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">变量</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$n</td>
<td style="text-align:left">当前记录的第n个字段，字段间分割由awk的FS分隔，$1代表地一个字段值。</td>
</tr>
<tr>
<td style="text-align:center">$0</td>
<td style="text-align:left">完整的输入记录。</td>
</tr>
<tr>
<td style="text-align:center">ARGC</td>
<td style="text-align:left">命令行参数的数量。</td>
</tr>
<tr>
<td style="text-align:center">ARGIND</td>
<td style="text-align:left">命令行中当前文件的位置，从0开始。</td>
</tr>
<tr>
<td style="text-align:center">ARGV</td>
<td style="text-align:left">命令行参数的数组。</td>
</tr>
<tr>
<td style="text-align:center">CONVFMT</td>
<td style="text-align:left">数字转换格式。</td>
</tr>
<tr>
<td style="text-align:center">ENVIRON</td>
<td style="text-align:left">环境变量关联数组。</td>
</tr>
<tr>
<td style="text-align:center">ERRNO</td>
<td style="text-align:left">最后一个系统错误的反馈信息。</td>
</tr>
<tr>
<td style="text-align:center">FIELDWIDTHS</td>
<td style="text-align:left">字段宽度列表。</td>
</tr>
<tr>
<td style="text-align:center">FILENAME</td>
<td style="text-align:left">当前处理文件的文件名。</td>
</tr>
<tr>
<td style="text-align:center">FNR</td>
<td style="text-align:left">同NR，但相对于当前文件。</td>
</tr>
<tr>
<td style="text-align:center">FS字</td>
<td style="text-align:left">段分隔符(fs默认是空格或者制表符)。</td>
</tr>
<tr>
<td style="text-align:center">IGNORECASE</td>
<td style="text-align:left">是否忽略大小写匹配；如果为真，则进行忽略大小写的匹配。</td>
</tr>
<tr>
<td style="text-align:center">NF</td>
<td style="text-align:left">当前记录中的字段数量。</td>
</tr>
<tr>
<td style="text-align:center">NR</td>
<td style="text-align:left">当前记录数。</td>
</tr>
<tr>
<td style="text-align:center">OFMT</td>
<td style="text-align:left">数字的输出格式。</td>
</tr>
<tr>
<td style="text-align:center">OFS</td>
<td style="text-align:left">输出字段分隔符，默认值是一个空格。</td>
</tr>
<tr>
<td style="text-align:center">ORS</td>
<td style="text-align:left">输出记录分隔符，默认值是一个换行符。</td>
</tr>
<tr>
<td style="text-align:center">RLENGTH</td>
<td style="text-align:left">由match函数所匹配的字符串的长度。</td>
</tr>
<tr>
<td style="text-align:center">RS</td>
<td style="text-align:left">记录分隔符，默认是一个换行符。</td>
</tr>
<tr>
<td style="text-align:center">RSTART</td>
<td style="text-align:left">由match函数所匹配的字符串的第一个位置。</td>
</tr>
<tr>
<td style="text-align:center">SUBSEP</td>
<td style="text-align:left">数组下标分隔符。特殊的字符串，用于模拟多维数组使用，默认值是/034。</td>
</tr>
</tbody>
</table>
<p><strong>awk运算符</strong></p>
<p>​    说awk也是可以一门编程语言，它也有独自大量的运算符。awk的运算符可以分为六大类：算术运算符、赋值运算符、关系运算符、逻辑运算符、及正则运算符以及其它运算符。与C语言相比，awk运算符基本与C语言相同，表达式及功能基本相同。下面具体来列出awk的运算符：</p>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:center">运算符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">赋值运算符</td>
<td style="text-align:center">= += -= <em>= /= %= ^= *</em>=</td>
<td style="text-align:left">赋值语句</td>
</tr>
<tr>
<td style="text-align:left">逻辑运算符</td>
<td style="text-align:center">\</td>
<td style="text-align:left">\</td>
<td></td>
<td>逻辑或</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">&amp;&amp;</td>
<td style="text-align:left">逻辑与</td>
</tr>
<tr>
<td style="text-align:left">正则运算符</td>
<td style="text-align:center">~ ~!</td>
<td style="text-align:left">匹配正则表达式和不匹配正则表达式</td>
</tr>
<tr>
<td style="text-align:left">关系运算符</td>
<td style="text-align:center">&lt; &lt;= &gt; &gt;= != ==</td>
<td style="text-align:left">关系运算符</td>
</tr>
<tr>
<td style="text-align:left">算术运算符</td>
<td style="text-align:center">+ -</td>
<td style="text-align:left">加，减</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">* / &amp;</td>
<td style="text-align:left">乘，除与求余</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">+ - !</td>
<td style="text-align:left">一元加，减和逻辑非</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">^ <em>*</em></td>
<td style="text-align:left">求幂</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">++ –</td>
<td style="text-align:left">增加或减少，作为前缀或后缀</td>
</tr>
<tr>
<td style="text-align:left">其它运算符</td>
<td style="text-align:center">$</td>
<td style="text-align:left">字段引用</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">空格</td>
<td style="text-align:left">字符串连接符</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">?:</td>
<td style="text-align:left">C条件表达式</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center">in</td>
<td style="text-align:left">数组中是否存在某键值</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>awk基础实践</strong></p>
<p>​    记录与字段相关</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"># 读取输入一行，通过awk输出行的字段数量</div><div class="line">➜  ~ echo alic say hello world | awk &apos;&#123;print NF&#125;&apos;      </div><div class="line">4</div><div class="line"></div><div class="line"># 读取输入一行，通过awk输出第一个、第二个以及第三个字段的值</div><div class="line">➜  ~ echo alic say hello world | awk &apos;&#123;print $1,$2,$3&#125;&apos;</div><div class="line">alic say hello</div><div class="line"></div><div class="line"># 读取输入一行，通过awk输出最后一个字段值以及输出该行</div><div class="line">➜  ~ echo alic say hello world | awk &apos;&#123;print $NF,$0&#125;&apos;</div><div class="line">world alic say hello world</div></pre></td></tr></table></figure>
<p>​    字段分隔符相关</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># 自定义分隔符，以逗号为分隔符作为字段间的分割标志,并输出最后一个字段值</div><div class="line">➜  ~ echo hei! awk, hello world | awk -F, &apos;&#123;print $NF&#125;&apos;</div><div class="line"> hello world</div><div class="line"># 或者，注意：下面方法一定要在awk处理前定义FS，即BEGIN后进跟着FS定义</div><div class="line">➜  ~ echo hei! awk, hello world | awk &apos;BEGIN &#123;FS=&quot;,&quot;&#125; &#123;print $NF&#125;&apos;     </div><div class="line"> hello world</div><div class="line"></div><div class="line"># 在自定义分割符的同时，定义多个分隔符，输出第一个以及最后一个字段值</div><div class="line">➜  ~ echo hei, awk, hello world | awk &apos;BEGIN &#123;FS=&quot;[!,]&quot;&#125; &#123;print $1,$NF&#125;&apos;</div><div class="line">hei  hello world</div></pre></td></tr></table></figure>
<p>​    内置变量相关</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"># 先建一个文件content，content文件cat命令打印的内容如下：</div><div class="line">➜  ~ cat content </div><div class="line">hello world</div><div class="line">what is more about awk</div><div class="line">awk command is similar with c</div><div class="line"></div><div class="line"># 打印输出content文件每行的行数、每一行的列数以及当前处理的文件名</div><div class="line">➜  ~ awk &apos;&#123;print NR,NF,FILENAME&#125;&apos; content </div><div class="line">1 2 content</div><div class="line">2 5 content</div><div class="line">3 6 content</div><div class="line"></div><div class="line"># 自定义输出分隔符，将每一行数据通过awk获取第一个和最后一个并以-符号连接</div><div class="line">➜  ~ awk &apos;BEGIN&#123;OFS=&quot;-&quot;;&#125;&#123;print $1 OFS $NF&#125;&apos; content</div><div class="line">hello-world</div><div class="line">what-awk</div><div class="line">awk-c</div><div class="line"></div><div class="line"># 两个文件同时处理，awk将视为一个文件的整体流，获取每一行的记录编号以及每一行最后字段值</div><div class="line">➜  ~ awk &apos;&#123;print NR,$NF&#125;&apos; content content2</div><div class="line">1 world</div><div class="line">2 awk</div><div class="line">3 c</div><div class="line">4 world</div><div class="line">5 awk</div><div class="line">6 c</div></pre></td></tr></table></figure>
<p>​    运算符相关</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"># 先建一个文件content，content文件cat命令打印的内容如下：</div><div class="line">➜  ~ cat operation</div><div class="line">1 2 3</div><div class="line">2 4 6</div><div class="line">3 6 9</div><div class="line"></div><div class="line"># 计算每行的和</div><div class="line">➜  ~ awk &apos;&#123;print $1+$2+$3&#125;&apos; operation</div><div class="line">6</div><div class="line">12</div><div class="line">18</div><div class="line"></div><div class="line"># 将每一行的最后一个字段值自增1后加上x,x=10</div><div class="line">➜  ~ awk &apos;x=10 &#123;print ++$NF+x&#125;&apos; operation</div><div class="line">14</div><div class="line">17</div><div class="line">20</div><div class="line"></div><div class="line"># 通过正则表达式计算包含有2的行的总数</div><div class="line">➜  ~ awk &apos; /2/ &#123;x+=1&#125; END &#123;print x&#125;&apos; operation </div><div class="line">2</div></pre></td></tr></table></figure>
<p><strong>awk进阶基础</strong></p>
<ul>
<li>条件判断 if</li>
</ul>
<p>if 语法格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">if (condition)</div><div class="line">to do</div><div class="line">else</div><div class="line">to do</div><div class="line"></div><div class="line"># or 只有一个动作的简洁写法</div><div class="line">if (condition) to do ; else to do</div></pre></td></tr></table></figure>
<p>示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">➜  ~ echo 10 | awk -v standard=100 &apos;&#123;if($1&gt;standard) print &quot;&gt;100&quot;;else print &quot;&lt;=100&quot;&#125;&apos;</div><div class="line">&lt;=100</div></pre></td></tr></table></figure>
<ul>
<li>循环 while 、for</li>
</ul>
<p>while 语法格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">while (condition)</div><div class="line">to do</div><div class="line"></div><div class="line"># or</div><div class="line">do</div><div class="line">to do</div><div class="line">while ()</div></pre></td></tr></table></figure>
<p>示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">计算0~100的和，并打印出来</div><div class="line">➜  ~ awk -v total=0 -v number=100 &apos;BEGIN&#123;while(i&lt;=number)&#123;total+=i++&#125; print total&#125;&apos;</div><div class="line">5050</div></pre></td></tr></table></figure>
<p>for 语法格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">for (var; condition; var_increment)</div><div class="line">&#123;</div><div class="line">	to do</div><div class="line">&#125;</div><div class="line"></div><div class="line"># 简洁写法</div><div class="line">for (var in list)&#123;</div><div class="line">  to do</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">计算0~100的和，并打印出来</div><div class="line">➜  ~ awk -v sum=0 -v number=0 &apos;BEGIN&#123;for(number;number&lt;=100;number++) &#123;sum+=number&#125; print sum&#125;&apos; </div><div class="line">5050</div></pre></td></tr></table></figure>
<ul>
<li>内置函数 built-in function    </li>
</ul>
<p>​        使用内置的函数没有规定的语法格式，灵活使用即可。对于awk而言，它自身内置了丰富的函数，下面讲讲几个比较常用的内置函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"># length() 计算字符串的长度</div><div class="line">➜  ~ echo hello world | awk &apos;&#123;print length()&#125;&apos;</div><div class="line">11</div><div class="line"></div><div class="line"># split (string, array, field separator) 第三个参数缺省默认为FS 按照特定分隔符分割字符串成数组</div><div class="line">➜  ~ echo 17:10:15 | awk &apos;&#123;split($0,a,&quot;:&quot;);print a[1],a[2],a[3]&#125;&apos;</div><div class="line">17 10 15</div><div class="line"></div><div class="line"># substr(string,start) 返回字符串string中从start开始的后缀部分</div><div class="line"># substr(string,start,length) 返回字符串string中从start开始长度为length的后缀部分</div><div class="line"># 在hello world字符串截取到world</div><div class="line">➜  ~ echo hello world | awk &apos;&#123;print substr($0,7,length($0))&#125;&apos;</div><div class="line">world</div><div class="line"></div><div class="line"># match(sting ,contain) 测试string是否包含匹配contain的字符串</div><div class="line">➜  ~ echo hello world | awk &apos;&#123;if(match($0,hello))&#123;print &quot;have hello&quot;&#125;&#125;&apos;</div><div class="line">have hello</div><div class="line"></div><div class="line"># sub(a,b,c) 替换 在字符串c中，使用b字符串在规则b下替换第一个</div><div class="line">➜  ~ echo hello world | awk -F: &apos;sub(/world/,&quot;alic&quot;,$0) &#123;print $0&#125;&apos;</div><div class="line">hello alic</div><div class="line"></div><div class="line"># 对于更多内置的函数使用的方法类似...</div></pre></td></tr></table></figure>
<p><strong>awk进阶应用实战</strong></p>
<p>​    无论是开发人员还是运维人员，始终是离不开日志文件。日志文件是数据的另一种备份的方式，虽然文件内容具有很大的不一样，但是有价值的核心数据还是一样的，所以日志文件非常重要，但是分析日志文件更重要。在所有的日志文件中，大多数的日志文件都是非结构化的，往往需要我们灵活处理。下面我们将利用nginx服务器产生的日志进行分析。</p>
<p>​    分需nginx日志的需要就是获取用户访问服务器的IP、用户访问的日期时间、访问服务器的方式、访问服务器的客户端类型和版本以及访问的状态是否成功。</p>
<p>测试的环境信息：</p>
<p>system：ubuntu 16.04</p>
<p>nginx：nginx/1.10.0 (Ubuntu)</p>
<p>log_location：/var/log/nginx/access.log</p>
<p>​    在分析日志之前，我们先查看log文件的内容，执行cat打印之后，我们发觉log文件有大量的日志信息，内容信息如下图所示，虽然有大量的数据然而显得非常杂乱，但是仔细查看的话，结构还是比较清晰的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">172.16.168.1 - - [16/Mar/2017:17:03:16 +0800] &quot;GET / HTTP/1.1&quot; 502 584 &quot;-&quot; &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&quot;</div><div class="line">172.16.168.4 - - [16/Mar/2017:17:03:23 +0800] &quot;GET / HTTP/1.1&quot; 200 210 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.87 Safari/537.36&quot;</div><div class="line">172.16.168.4 - - [16/Mar/2017:17:03:35 +0800] &quot;GET / HTTP/1.1&quot; 200 210 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.87 Safari/537.36&quot;</div><div class="line">172.16.168.1 - - [16/Mar/2017:17:03:44 +0800] &quot;GET / HTTP/1.1&quot; 200 210 &quot;-&quot; &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36&quot;</div><div class="line">......</div></pre></td></tr></table></figure>
<p>​    通过执行<code>awk &#39;{print NF}&#39; /var/log/nginx/access.log</code>命令，发现每一行都有21个字段，并且发觉每一行数据在同一列的的数据都是相同的，那就更好办了。可以灵活地获取数据信息。</p>
<p>​    1) 先获取用户访问服务器的IP，这个最简单，就是获取每一行的第一个字段。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">➜  ~ awk &apos;&#123;print $1&#125;&apos; /var/log/nginx/access.log</div><div class="line">172.16.168.1</div><div class="line">172.16.168.4</div><div class="line">172.16.168.4</div><div class="line">172.16.168.1</div><div class="line">......</div></pre></td></tr></table></figure>
<p>​    2) 获取用户访问服务器的日期时间，就是将每一行的第四与第五个字段值拼和，并去掉头末两个括号即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">➜  ~ awk &apos;&#123;print substr($4 $5,2,length($4 $5)-6)&#125;&apos; /var/log/nginx/access.log</div><div class="line">16/Mar/2017:17:03:16</div><div class="line">16/Mar/2017:17:03:23</div><div class="line">16/Mar/2017:17:03:35</div><div class="line">16/Mar/2017:17:03:44</div><div class="line">......</div></pre></td></tr></table></figure>
<p>​    3) 获取用户访问服务器的方式POST还是GET，这个与上一条类似。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">➜  ~ awk &apos;&#123;print substr($6,2,length($6)-1)&#125;&apos; /var/log/nginx/access.log</div><div class="line">GET</div><div class="line">GET</div><div class="line">GET</div><div class="line">GET</div><div class="line">......</div></pre></td></tr></table></figure>
<p>​    4) 获取客户端的访问类型以及版本，解决的方案就是获取客户端的访问类型以及版本再去分割。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">➜  ~ awk &apos;&#123;split($20,tools,&quot;/&quot;);split($20,versions,&quot;/&quot;); print tools[1] &quot; &quot; tools[2]&#125;&apos; /var/log/nginx/access.log</div><div class="line">Chrome 56.0.2924.87</div><div class="line">Chrome 50.0.2661.87</div><div class="line">Chrome 50.0.2661.87</div><div class="line">Chrome 56.0.2924.87</div></pre></td></tr></table></figure>
<p>​    5) 获取客户访问的结果稍微会复杂一点，先获取用户访问的返回码，是200就是成功，否是失败。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">➜  ~ awk &apos;&#123;if($9==200) print &quot;成功&quot;;else print &quot;失败&quot;&#125;&apos; /var/log/nginx/access.log</div><div class="line">失败</div><div class="line">成功</div><div class="line">成功</div><div class="line">成功</div></pre></td></tr></table></figure>
<p>​    所有的步骤已经很详细地说明白了，下一步我们将使用awk命令的第二种方式，即编辑awk脚本，将awk要处理的逻辑全部写在awk脚本文件，上述的处理的脚本总汇如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">➜  ~ cat handle_nginx.awk</div><div class="line">#/bin/awk -f</div><div class="line"># 前期逻辑处理</div><div class="line">&#123;</div><div class="line">if($9 != 200)</div><div class="line">    status=&quot;失败&quot;;</div><div class="line">else </div><div class="line">    status=&quot;成功&quot;;</div><div class="line">split($20,tools,&quot;/&quot;);split($20,versions,&quot;/&quot;)</div><div class="line">&#125;</div><div class="line"># 简易打印部分</div><div class="line">&#123;</div><div class="line">print \</div><div class="line">&quot;Status:&quot; status \</div><div class="line">&quot;   IP:&quot; $1  \</div><div class="line">&quot;   DateTime:&quot; substr($4 $5,2,length($4 $5)-7) \</div><div class="line">&quot;   Method:&quot; substr($6,2,length($6)-1) ;\</div><div class="line">&quot;   Tool:&quot; tools[1] \</div><div class="line">&quot;   Versioni:&quot; tools[2] </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>​    通过awk脚本处理，即执行的结果如下，看上去一目了然，条理非常清晰，掌握awk处理对日志分析，程序的调试等是非常有用的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">➜  ~ awk -f handle_nginx.awk -v result=0 /var/log/nginx/access.log </div><div class="line">Status:失败   IP:172.16.168.1   DateTime:16/Mar/2017:17:03:16   Method:GET</div><div class="line">Status:成功   IP:172.16.168.4   DateTime:16/Mar/2017:17:03:23   Method:GET</div><div class="line">Status:成功   IP:172.16.168.4   DateTime:16/Mar/2017:17:03:35   Method:GET</div><div class="line">Status:成功   IP:172.16.168.1   DateTime:16/Mar/2017:17:03:44   Method:GET</div><div class="line">... ...</div></pre></td></tr></table></figure>
<hr>
<hr>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://samego.com/2017/03/16/Linux/Linux运维基础之编辑器/" data-id="cj1izc8ab000b6iowhxoca707" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="https://samego.com/2017/03/16/Linux/Linux运维基础之编辑器/#comments" class="article-comment-link ds-thread-count" data-thread-key="https://samego.com/2017/03/16/Linux/Linux运维基础之编辑器/">评论</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/04/11/Heart-Love/纪念初次到岭师 | 第三次见面/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    纪念初次到岭师 | 第三次见面
                
            </div>
        </a>
    
    
        <a href="/2017/03/11/Linux/Linux运维基础之systemd基础/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">Linux运维基础之systemd基础</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div class="ds-thread" data-thread-key="2017/03/16/Linux/Linux运维基础之编辑器/" data-title="Linux运维基础之编辑器" data-url="https://samego.com/2017/03/16/Linux/Linux运维基础之编辑器/"></div>
    <style>
        #ds-thread #ds-reset .ds-textarea-wrapper {
            background: none;
        }
        #ds-reset .ds-avatar img {
            box-shadow: none;
        }
        #ds-reset .ds-gradient-bg {
            background: #f7f7f7;
        }
        #ds-thread #ds-reset li.ds-tab a {
            border-radius: 3px;
        }
        #ds-thread #ds-reset .ds-post-button {
            color: white;
            border: none;
            box-shadow: none;
            background: #d32;
            text-shadow: none;
            font-weight: normal;
            font-family: 'Microsoft Yahei';
        }
        #ds-thread #ds-reset .ds-post-button:hover {
            color: white;
            background: #DE594C;
        }
        #ds-thread #ds-reset .ds-post-button:active {
            background: #d32;
        }
        #ds-smilies-tooltip ul.ds-smilies-tabs li a.ds-current {
            color: white;
            background: #d32;
            box-shadow: none;
            text-shadow: none;
            font-weight: normal;
        }
    </style>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/04/11/Heart-Love/纪念初次到岭师 | 第三次见面/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/随笔/">随笔</a></p>
                            <p class="item-title"><a href="/2017/04/11/Heart-Love/纪念初次到岭师 | 第三次见面/" class="title">纪念初次到岭师 | 第三次见面</a></p>
                            <p class="item-date"><time datetime="2017-04-10T16:00:00.000Z" itemprop="datePublished">2017-04-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/03/16/Linux/Linux运维基础之编辑器/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a></p>
                            <p class="item-title"><a href="/2017/03/16/Linux/Linux运维基础之编辑器/" class="title">Linux运维基础之编辑器</a></p>
                            <p class="item-date"><time datetime="2017-03-16T14:13:41.000Z" itemprop="datePublished">2017-03-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/03/11/Linux/Linux运维基础之systemd基础/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a></p>
                            <p class="item-title"><a href="/2017/03/11/Linux/Linux运维基础之systemd基础/" class="title">Linux运维基础之systemd基础</a></p>
                            <p class="item-date"><time datetime="2017-03-11T04:25:31.000Z" itemprop="datePublished">2017-03-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/03/05/Android/Android获取网络状态/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Android/">Android</a></p>
                            <p class="item-title"><a href="/2017/03/05/Android/Android获取网络状态/" class="title">Android获取网络状态</a></p>
                            <p class="item-date"><time datetime="2017-03-05T12:19:58.000Z" itemprop="datePublished">2017-03-05</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2017/03/05/Linux/Ubuntu动态一键切换python版本/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Linux/">Linux</a></p>
                            <p class="item-title"><a href="/2017/03/05/Linux/Ubuntu动态一键切换python版本/" class="title">Ubuntu动态一键切换python版本</a></p>
                            <p class="item-date"><time datetime="2017-03-05T09:37:37.000Z" itemprop="datePublished">2017-03-05</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://www.jianshu.com/u/d3b98b758486">简书</a>
                    </li>
                
                    <li>
                        <a href="https://github.com/alicance/">github</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 Alic Feng<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'samego'};
    (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>